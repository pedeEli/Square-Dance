<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Square Dance</title>
    <script type="module" src="/src/main.ts" defer></script>
</head>
<body>
    <h1 class="heading">Square Dance</h1>
    <section class="controls">
        <h2>Controls</h2>
        <button class="btn" data-next-step>
            <span data-text>Start</span>
        </button>
        <button class="btn" data-full-cycle>
            <span data-text>Full cycle</span>
        </button>
        <button class="btn" data-play>
            <span data-text>Play</span>
        </button>
        <div class="switch">
            <input data-animate type="checkbox" id="animate">
            <label for="animate">Animate</label>
        </div>
        <div class="switch">
            <input data-delay type="checkbox" id="delay">
            <label for="delay">Delay</label>
        </div>
        <button class="btn" data-reset>
            <span data-text>Reset</span>
        </button>
    </section>
    <section class="square-dance">
        <div class="grid" data-grid></div>
    </section>

    <section class="info-section" data-info>
        <div data-section>
            <p>
                Hi. This is a interactive blog which explores something called <span class="square-dance-text">Square Dance</span>. 
                If you have no idea what i'm talking about i highly recommend to watch <a href="https://www.youtube.com/watch?v=Yy7Q8IWNfHM" target="_blank">this</a> video
                by the talanted Math-YouTuber Mathologer. The short answer is that <span class="square-dance-text">Square Dance</span> is a method
                to create a randomly tiled aztec diamond board of increasing size. But what does that mean? Let's break the statement down.<br/>
                What is a aztec diamond board? This is
            </p>
            <div class="aztec-diamonds">
                <svg class="size-four image frame" viewBox="0 0 42 42" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 0 L11 41 L31 41 L31 1 L11 1 M21 1 L21 41 M0 11 L41 11 L41 31 L1 31 L1 11 M1 21 L41 21" stroke-width="2" fill="none"/>
                </svg>
                <svg class="size-six image frame" viewBox="0 0 62 62" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 0 L21 61 L41 61 L41 1 L21 1 M31 1 L31 61 M0 21 L61 21 L61 41 L1 41 L1 21 M1 31 L 61 31 M10 11 L51 11 L51 51 L11 51 L11 11" fill="none" stroke-width="2"/>
                </svg>
            </div>
            <p>Basically it's a square rotated 45Â° and then approximated with pixels. And what is a random tiling of such board you might ask?</p>
            <div class="aztec-diamonds">
                <div class="grid size-four">
                    <div></div>
                    <div class="domino up"></div>
                    <div></div>
                    <div class="domino up"></div>
                    <div class="domino left"></div>
                    <div class="domino right"></div>
                    <div class="domino down"></div>
                    <div></div>
                    <div class="domino down"></div>
                </div>
                <div class="grid size-six">
                    <div style="grid-column: span 2"></div>
                    <div class="domino up"></div>
                    <div style="grid-column: span 2"></div>
                    <div></div>
                    <div class="domino left"></div>
                    <div class="domino down"></div>
                    <div class="domino right"></div>
                    <div></div>
                    <div class="domino left"></div>
                    <div class="domino up"></div>
                    <div class="domino right"></div>
                    <div class="domino left"></div>
                    <div class="domino right"></div>
                    <div class="domino left"></div>
                    <div class="domino right"></div>
                    <div style="grid-column: span 2"></div>
                    <div class="domino down"></div>
                </div>
            </div>
            <p>
                You just place dominos randomly on the diamond so that every square (pixel) is covered.
                I'll get to what the colors mean on the next section.
            </p>
        </div>
        <div data-section>
            <p>
                To understand what the colors mean we have to draw the underlying aztec diamond with a checkerboard pattern.
                All horizontal dominos can be put into two categories. Either the domino has under his left side a black pixel or
                under his right side. Depending on that i color it green or blue. The same is true for vertical dominos.
                Categorising the dominos like that gives us a realy nice visualization for the <span class="square-dance-text">Square Dance</span> later.
            </p>
            <div class="aztec-diamonds">
                <svg class="size-four checkerboard image" viewBox="0 0 40 40">
                    <use href="#checkerboard-four"></use>
                </svg>
                <div class="grid size-four with-bg">
                    <div></div>
                    <div class="domino up"></div>
                    <div></div>
                    <div class="domino up"></div>
                    <div class="domino left"></div>
                    <div class="domino right"></div>
                    <div class="domino down"></div>
                    <div></div>
                    <div class="domino down"></div>
                    <svg class="checkerboard" viewBox="0 0 40 40"><use href="#checkerboard-four"></use></svg>
                </div>
            </div>
            <p>
                So what is the <span class="square-dance-text">Square Dance</span>. We start by generating the smallest possible aztec diamond
                which is a two-by-two square. For such a diamond there are only two different possible tilings. One with two horizontal dominos
                and one with two vertical dominos.
            </p>
            <div class="aztec-diamonds">
                <div class="grid size-two" data-horizontal-example>
                </div>
                <div class="grid size-two" data-vertical-example>
                </div>
            </div>
            <p>
                The arrows represent the first step in the <span class="square-dance-text">Square Dance</span>. You increase the size
                of the aztec diamond and move the dominos in the direction of the arrow.
            </p>
            <div class="aztec-diamonds size-four">
                <div class="size-four image center">
                    <div class="grid size-four with-bg" data-horizontal-animation>
                        <svg data-two class="checkerboard" viewBox="0 0 40 40"><use href="#checkerboard-two"></use></svg>
                        <svg data-four class="checkerboard opaque" viewBox="0 0 40 40"><use href="#checkerboard-four"></use></svg>
                    </div>
                </div>
                <div class="size-four image center">
                    <div class="grid size-four with-bg" data-vertical-animation>
                        <svg data-two class="checkerboard" viewBox="0 0 40 40"><use href="#checkerboard-two"></use></svg>
                        <svg data-four class="checkerboard opaque" viewBox="0 0 40 40"><use href="#checkerboard-four"></use></svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="navigation">
            <button class="btn" data-previous>Previous</button>
            <button class="btn" data-next>Next</button>
        </div>
    </section>



    <svg width="0" height="0" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol class="checkerboard" id="checkerboard-four">
            <rect class="bright" width="10" height="10" x="10" y="0"/>
            <rect class="dark" width="10" height="10" x="20" y="0"/>
            <rect class="bright" width="10" height="10" x="0" y="10"/>
            <rect class="dark" width="10" height="10" x="10" y="10"/>
            <rect class="bright" width="10" height="10" x="20" y="10"/>
            <rect class="dark" width="10" height="10" x="30" y="10"/>
            <rect class="dark" width="10" height="10" x="0" y="20"/>
            <rect class="bright" width="10" height="10" x="10" y="20"/>
            <rect class="dark" width="10" height="10" x="20" y="20"/>
            <rect class="bright" width="10" height="10" x="30" y="20"/>
            <rect class="dark" width="10" height="10" x="10" y="30"/>
            <rect class="bright" width="10" height="10" x="20" y="30"/>
        </symbol>
        <symbol class="checkerboard" id="checkerboard-two">
            <rect class="dark" width="20" height="20" x="0" y="0"/>
            <rect class="bright" width="20" height="20" x="20" y="0"/>
            <rect class="bright" width="20" height="20" x="0" y="20"/>
            <rect class="dark" width="20" height="20" x="20" y="20"/>
        </symbol>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" width="384" height="512" style="display: none;">
        <symbol id="up-arrow">
            <path d="M374.6 246.6C368.4 252.9 360.2 256 352 256s-16.38-3.125-22.62-9.375L224 141.3V448c0 17.69-14.33 31.1-31.1 31.1S160 465.7 160 448V141.3L54.63 246.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160C387.1 213.9 387.1 234.1 374.6 246.6z"/>
        </symbol>
        <symbol id="down-arrow">
            <path d="M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"/>
        </symbol>
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" width="448" height="512" style="display: none;">
        <symbol id="left-arrow">
            <path d="M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"/>
        </symbol>
        <symbol id="right-arrow">^
            <path d="M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"/>
        </symbol>
    </svg>
</body>
</html>